CREATE DEFINER=`root`@`localhost` PROCEDURE `get_book`(IN keyword varchar(100))
BEGIN
	set @sql_select = "select * from book WHERE 1=1";
    if `keyword` != "" then
		set @sql_select = concat(@sql_select, " and id like '%", keyword, "%' or name like '%", keyword, "%' or author like '%", keyword, "%' or category like '%", keyword, "%'");
	end if;
    set @sql_select = concat(@sql_select, " order by id desc");
    prepare query_data from @sql_select;
    execute query_data;
    deallocate prepare query_data;
    select @sql_select;
END